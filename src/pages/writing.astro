---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/global.css';

// Mock blog posts - in real app, these would come from content collection
const allPosts = [
  {
    title: "Getting Started with AI Assistants",
    excerpt: "How I built my own personal AI assistant that runs 24/7 and helps me stay organized. A complete walkthrough of the setup process.",
    date: "Feb 10, 2026",
    slug: "ai-assistant-setup",
    category: "Tech & AI",
    readTime: "8 min read"
  },
  {
    title: "Understanding Crypto Market Cycles",
    excerpt: "A deep dive into how crypto markets move and what indicators actually matter. Learn to identify market phases and make better decisions.",
    date: "Feb 8, 2026",
    slug: "crypto-cycles",
    category: "Crypto & Web3",
    readTime: "12 min read"
  },
  {
    title: "Building in Public: My Journey",
    excerpt: "Why I decided to share my learning process and build projects openly. The benefits, challenges, and what I've learned so far.",
    date: "Feb 5, 2026",
    slug: "building-in-public",
    category: "Personal",
    readTime: "5 min read"
  },
  {
    title: "Automating My Life with Code",
    excerpt: "From morning routines to investment tracking, here's how I use automation to save time and reduce mental overhead.",
    date: "Feb 1, 2026",
    slug: "automation-life",
    category: "Tech & AI",
    readTime: "10 min read"
  },
  {
    title: "The Case for Web3",
    excerpt: "Beyond the hype and speculation, what problems does Web3 actually solve? A balanced perspective on decentralization.",
    date: "Jan 28, 2026",
    slug: "case-for-web3",
    category: "Crypto & Web3",
    readTime: "15 min read"
  }
];

const categories = [...new Set(allPosts.map(p => p.category))];
---

<BaseLayout title="Writing" description="Articles about tech, crypto, and building things">
  <div class="space-y-12">
    <!-- Header -->
    <section class="pt-4">
      <h1 class="text-4xl font-bold mb-4" style="color: var(--text-primary);">Writing</h1>
      <p class="text-lg max-w-2xl" style="color: var(--text-body);">
        Thoughts on technology, crypto, and building things. I write about what I'm learning and working on.
      </p>
    </section>

    <!-- Category Filter -->
    <div class="flex gap-3 pb-6" style="border-bottom: 1px solid var(--border);">
      <a href="/writing" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors" style="background: var(--accent); color: var(--cream);">
        All
      </a>
      {categories.map((category) => (
        <a
          href={`/writing?category=${encodeURIComponent(category)}`}
          class="px-4 py-2 rounded-lg text-sm font-medium transition-colors"
          style="background: var(--bg-card); color: var(--text-body);"
        >
          {category}
        </a>
      ))}
    </div>

    <!-- Posts List -->
    <div class="space-y-12">
      {allPosts.map((post) => (
        <article class="group">
          <div class="space-y-3">
            <div class="flex items-center gap-4 text-sm" style="color: var(--text-muted);">
              <time>{post.date}</time>
              <span>•</span>
              <span>{post.readTime}</span>
              <span>•</span>
              <span class="px-2 py-0.5 rounded text-xs" style="background: var(--tag-bg); color: var(--tag-text);">
                {post.category}
              </span>
            </div>

            <a
              href={`/blog/${post.slug}`}
              class="block group-hover:translate-x-1 transition-transform"
            >
              <h2 class="text-2xl font-semibold transition-colors mb-2" style="color: var(--text-primary);">
                {post.title}
              </h2>
              <p class="leading-relaxed" style="color: var(--text-body);">
                {post.excerpt}
              </p>
            </a>

            <a
              href={`/blog/${post.slug}`}
              class="inline-flex items-center font-medium text-sm transition-colors" style="color: var(--accent);"
            >
              Read more →
            </a>
          </div>
        </article>
      ))}
    </div>

    <!-- Newsletter CTA (optional) -->
    <section class="mt-16 pt-12" style="border-top: 1px solid var(--border);">
      <div class="rounded-lg p-8" style="background: var(--bg-card); border: 1px solid var(--border);">
        <h3 class="text-2xl font-semibold mb-3" style="color: var(--text-primary);">Stay Updated</h3>
        <p class="mb-6 max-w-xl" style="color: var(--text-body);">
          Get notified when I publish new articles. No spam, unsubscribe anytime.
        </p>
        <form class="flex gap-3 max-w-md">
          <input
            type="email"
            placeholder="your@email.com"
            class="flex-1 px-4 py-2 rounded-lg focus:outline-none focus:ring-2"
            style="background: var(--bg-secondary); border: 1px solid var(--border); color: var(--text-body); --tw-ring-color: var(--accent);"
          />
          <button
            type="submit"
            class="px-6 py-2 font-medium rounded-lg transition-colors"
            style="background: var(--accent); color: var(--cream);"
          >
            Subscribe
          </button>
        </form>
      </div>
    </section>
  </div>
</BaseLayout>
